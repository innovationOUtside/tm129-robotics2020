
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1 Introduction to functions and robot control strategies &#8212; TM129 Robotics Practical Activities</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2 Dead reckoning" href="04.2%20Robot%20navigation%20using%20dead%20reckoning.html" />
    <link rel="prev" title="6 Optional challenges" href="../03.%20Controlling%20program%20execution%20flow/03.6%20Optional%20RoboLab%20challenges.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">TM129 Robotics Practical Activities</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README_FIRST.html">
   Welcome to the TM129 Robotics block
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00_FOR_VLE/Section_00_01_Introduction.html">
   1 Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../00_NOTES_FOR_TUTORS/GETTING_STARTED.html">
   Getting started
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01.%20Introducing%20notebooks%20and%20the%20RoboLab%20environment/01.1%20Jupyter%20environment.html">
   1 Introduction to the TM129 Jupyter notebook environment
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01.%20Introducing%20notebooks%20and%20the%20RoboLab%20environment/01.2%20Exploring%20the%20notebook%20environment.html">
     2 The interactive read-writable notebook environment
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01.%20Introducing%20notebooks%20and%20the%20RoboLab%20environment/01.3%20Introducing%20nbev3devsim.html">
     3 The RoboLab simulated on-screen robot (
     <code class="docutils literal notranslate">
      <span class="pre">
       nbev3devsim
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01.%20Introducing%20notebooks%20and%20the%20RoboLab%20environment/01.4%20Exploring%20nbev3devsim.html">
     4 Exploring the
     <code class="docutils literal notranslate">
      <span class="pre">
       nbev3devsim
      </span>
     </code>
     simulator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01.%20Introducing%20notebooks%20and%20the%20RoboLab%20environment/01.5%20Example%20robot%20program.html">
     5 An example robot program
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01.%20Introducing%20notebooks%20and%20the%20RoboLab%20environment/01.6%20Working%20With%20Simulators.html">
     6 Working with simulators
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02.%20Getting%20started%20with%20robot%20and%20Python%20programming/02.1%20Robot%20programming%20constructs.html">
   1 An introduction to programming robots
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02.%20Getting%20started%20with%20robot%20and%20Python%20programming/02.2%20Creating%20your%20own%20robot%20programs.html">
     2 Creating your own robot programs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02.%20Getting%20started%20with%20robot%20and%20Python%20programming/02.3%20General%20programming%20concepts.html">
     3.1 Constants and variables in programs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02.%20Getting%20started%20with%20robot%20and%20Python%20programming/02.4%20Getting%20started%20with%20sensors.html">
     4 Robot sensors and data logging
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03.%20Controlling%20program%20execution%20flow/03.1%20Program%20control%20using%20for%20loops.html">
   1 Introduction to program control flow
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03.%20Controlling%20program%20execution%20flow/03.2%20Program%20control%20using%20while%20loops%20and%20blocking.html">
     2 Program control flow using a
     <code class="docutils literal notranslate">
      <span class="pre">
       while...
      </span>
     </code>
     loop
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03.%20Controlling%20program%20execution%20flow/03.3%20Program%20control%20flow%20using%20branches.html">
     3 Branches
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03.%20Controlling%20program%20execution%20flow/03.4%20Example%20robot%20control%20programs.html">
     4 Example robot control programs
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03.%20Controlling%20program%20execution%20flow/03.5%20Some%20RoboLab%20challenges.html">
     5 RoboLab challenges
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03.%20Controlling%20program%20execution%20flow/03.6%20Optional%20RoboLab%20challenges.html">
     6 Optional challenges
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="current reference internal" href="#">
   1 Introduction to functions and robot control strategies
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="04.2%20Robot%20navigation%20using%20dead%20reckoning.html">
     2 Dead reckoning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04.3%20Emergent%20robot%20behaviour%20and%20simple%20data%20charts.html">
     3 Emergent robot behaviour and simple data charts
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04.4%20Reasoning%20with%20Eliza.html">
     4 Reasoning with Eliza
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04.5%20Reasoning%20with%20rule%20based%20systems.html">
     5 Reasoning with rule-based systems – Durable Rules Engine
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05.%20Experimenting%20with%20sensors/05.1%20Introducing%20sensor%20based%20control.html">
   Introduction to sensor-based control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../06.%20Where%20in%20the%20world%20are%20we/06.1%20Introducing%20sensor%20based%20navigation.html">
   Introducing sensor-based navigation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07.%20Neural%20networks/07.1%20Introducing%20neural%20networks.html">
   1 Introducing neural networks
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../08.%20Remote%20services%20and%20multi-agent%20systems/08.1%20Introducing%20remote%20services%20and%20multi-agent%20systems.html">
   1 An introduction to remote services and multi-agent systems
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../08.%20Remote%20services%20and%20multi-agent%20systems/08.2%20Collecting%20digit%20image%20and%20class%20data%20from%20the%20simulator.html">
     2 Collecting digit image and class data from the simulator
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../08.%20Remote%20services%20and%20multi-agent%20systems/08.3%20Recognising%20digits%20using%20a%20convolutional%20neural%20network%20%28optional%29.html">
     3 Recognising digits using a convolutional neural network (optional)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../08.%20Remote%20services%20and%20multi-agent%20systems/08.4%20Recognising%20patterns%20on%20the%20move.html">
     4 Recognising patterns on the move
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../08.%20Remote%20services%20and%20multi-agent%20systems/08.5%20Messaging%20in%20multi-agent%20systems.html">
     5 Messaging in multi-agent systems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../08.%20Remote%20services%20and%20multi-agent%20systems/08.6%20Conclusion.html">
     6 Conclusion
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/04. Not quite intelligent robots/04.1 Introducing program functions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/04. Not quite intelligent robots/04.1 Introducing program functions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#defining-simple-python-functions">
   1.1 Defining simple Python functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#passing-arguments-into-functions">
   1.2 Passing arguments into functions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#activity-defining-a-simple-function">
     1.2.1 Activity – Defining a simple function
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#discussion">
     Discussion
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-variables-to-values-returned-from-a-function">
   1.3 Setting variables to values returned from a function
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-functions-in-robot-control-programs">
   1.4 Using functions in robot control programs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#optional-activity">
   1.4.1 Optional activity
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#previewing-the-simulated-robot-state-from-a-notebook-code-cell">
   1.5 Previewing the simulated robot state from a notebook code cell
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reporting-on-robot-state-in-the-notebook">
   1.6 Reporting on robot state in the notebook
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   1.7 Summary
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>1 Introduction to functions and robot control strategies</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#defining-simple-python-functions">
   1.1 Defining simple Python functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#passing-arguments-into-functions">
   1.2 Passing arguments into functions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#activity-defining-a-simple-function">
     1.2.1 Activity – Defining a simple function
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#discussion">
     Discussion
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-variables-to-values-returned-from-a-function">
   1.3 Setting variables to values returned from a function
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-functions-in-robot-control-programs">
   1.4 Using functions in robot control programs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#optional-activity">
   1.4.1 Optional activity
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#previewing-the-simulated-robot-state-from-a-notebook-code-cell">
   1.5 Previewing the simulated robot state from a notebook code cell
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reporting-on-robot-state-in-the-notebook">
   1.6 Reporting on robot state in the notebook
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   1.7 Summary
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="introduction-to-functions-and-robot-control-strategies">
<h1>1 Introduction to functions and robot control strategies<a class="headerlink" href="#introduction-to-functions-and-robot-control-strategies" title="Permalink to this headline">¶</a></h1>
<p>Sensors are at the heart of robotics. A machine without sensors cannot be a robot in our terms. The human body is replete with sensors. Our five external senses – sight, hearing, touch, smell and taste – and internal sensing such as balance and proprioception (body awareness) are all marvellously sophisticated.</p>
<p>For this week’s practical activities, we will be concerned with various techniques that can be used to allow a robot to use sensory information to control its actuators. We will investigate a progression of control strategies:</p>
<ol class="simple">
<li><p>dead reckoning – no sensor input</p></li>
<li><p>reflex behaviour – sensors <em>linked directly</em> to motors according to the sense–act model</p></li>
<li><p>deliberative behaviour – actuation depends on <em>reasoning</em> about sensor information and other knowledge, according to the sense–think–act model.</p></li>
</ol>
<p>The first control strategy, dead reckoning, is an ‘open-loop’ control approach, since it does not use sensor input.</p>
<p>The second is an example of a ‘sense–act’ control strategy that you encountered earlier in the block; we will illustrate this control strategy using simulated implementations of simple Braitenberg vehicles.</p>
<p>Finally, there is the most complex control strategy, in which the robot deliberates on the sensor inputs in the context of other knowledge using an approach we refer to as ‘sense–think–act’. This involves <em>reasoning</em> and corresponds more closely to the way humans solve complex problems and plan actions in the long and short term.</p>
<p>But before we do that, we’ll have a look in a bit more detail at another powerful idea in computer programming: <em>functions</em>. You’ve already met some of these, but without much explanation. So now let’s introduce you to them for real.</p>
<div class="section" id="defining-simple-python-functions">
<h2>1.1 Defining simple Python functions<a class="headerlink" href="#defining-simple-python-functions" title="Permalink to this headline">¶</a></h2>
<p>Many of the programs we have used so far have been quite short with little, if any, reused code.</p>
<p>As programs get larger, it is often convenient to encapsulate several lines of code within a <em>function</em>. Multiple lines of code within a function can then be called conveniently from a single statement whenever they are needed.</p>
<p>Functions are very powerful, and if you have studied other programming courses then you may well be familiar with them.</p>
<p>For our purposes, the following provides a very quick overview of some of the key behaviours of Python functions. Remember that this isn’t a Python programming module <em>per se</em>; rather, it’s a module where we explore how to use Python to get things done. What follows should be enough to get you started writing your own functions, without creating too many bad habits along the way.</p>
<p>To see how we can create our own functions, let’s consider a really simple example: a function that just prints out the word <em>Hello</em>.</p>
<p>The function definition has a very specific syntax:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">FUNCTION_NAME</span><span class="p">():</span>
    <span class="c1"># ONE_OR_MORE_LINES_OF_CODE</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<p><em>A Python function requires at least one line of valid code (which does not include comments) in the function body. If we don’t know what lines of code we want just yet, the <code class="docutils literal notranslate"><span class="pre">pass</span></code> command is enough to create a valid program line that doesn’t actually have to do anything.</em></p>
<p>Here are some of the rules relating to the syntactic definition of a Python function:</p>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">FUNCTION_NAME</span></code> <strong>MUST NOT</strong> contain any spaces or punctuation other than underscore (<code class="docutils literal notranslate"><span class="pre">_</span></code>) characters</p></li>
<li><p>the function name <strong>MUST</strong> be followed by a pair of brackets (<code class="docutils literal notranslate"><span class="pre">()</span></code>), that may contain something (we’ll see what later), followed by a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>)</p></li>
<li><p>the body of the function <strong>MUST</strong> be indented using space or tab characters; the level of indentation of the first line sets the effective ‘left-hand margin’ for the remaining lines of code in the function</p></li>
<li><p>the body of the function must include <strong>AT LEAST</strong> one valid statement or line of code <strong>EXCLUDING</strong> comments; if you don’t want the function to do anything, but need it as a placeholder, use <code class="docutils literal notranslate"><span class="pre">pass</span></code> as the single line of required code in the function body.</p></li>
</ul>
<p>It is good practice to annotate your function with a so-called ‘docstring’ (<em>documentation string</em>) providing a concise, imperative description of what the function does.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">FUNCTION_NAME</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;&quot;Docstring containing a concise summary of the function behaviour.&quot;&quot;&quot;</span>
    <span class="c1"># ONE_OR_MORE_LINES_OF_CODE</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
<p>Run the following code cell to define a simple function that prints the message <em>Hello</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayHello</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;Print a hello message.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>When we <em>call</em> the function, the code contained within the function body is executed.</p>
<p>Run the following cell to call the function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sayHello</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Functions can contain multiple lines of code, which means they can provide a convenient way of calling multiple lines of code from a single line of code.</p>
</div>
<div class="section" id="passing-arguments-into-functions">
<h2>1.2 Passing arguments into functions<a class="headerlink" href="#passing-arguments-into-functions" title="Permalink to this headline">¶</a></h2>
<p>Functions can also be used to perform actions over one or more <em>arguments</em> passed into the function. For example, if you want to say hello to a specific person by name, we can pass their name into the function as an argument, and then use that argument within the body of the function.</p>
<p>We’ll use a Python <em>f-string</em> as a convenient way of passing the variable value, by reference, into a string:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayHelloName</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print a welcome message.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s call that function to see how it behaves:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sayHelloName</span><span class="p">(</span><span class="s2">&quot;Sam&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>What happens if we forget to provide a name?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sayHelloName</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Oops… We have defined the argument as a <em>positional</em> argument that is REQUIRED if the function is to be called without raising an error.</p>
<p>If we want to make the argument optional then we need to provide a <em>default value</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayHelloName</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;there&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print a message to welcome someone by name.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
<span class="n">sayHelloName</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>If we want to have different behaviours depending on whether a value is passed for the name, then we can set a default such as <code class="docutils literal notranslate"><span class="pre">None</span></code> and then use a conditional statement to determine what to do based on the value that is presented:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayHelloName</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print a message to welcome someone optionally by name.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hi there!&quot;</span><span class="p">)</span>

<span class="n">sayHelloName</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Sometimes, we may want to get one or more values returned back from a function. We can do that using the <code class="docutils literal notranslate"><span class="pre">return</span></code> statement. The <code class="docutils literal notranslate"><span class="pre">return</span></code> statement essentially does two things when it is called: firstly, it terminates the function’s execution at that point; secondly, it optionally returns a value to the part of the program that called the function.</p>
<div class="section" id="activity-defining-a-simple-function">
<h3>1.2.1 Activity – Defining a simple function<a class="headerlink" href="#activity-defining-a-simple-function" title="Permalink to this headline">¶</a></h3>
<p>Run the following code cell to define a function that constructs a welcome message, displays the message <em>and returns it</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayAndReturnHelloName</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print a welcome message and return it.&quot;&quot;&quot;</span>
    <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Printing:&quot;</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">message</span>
</pre></div>
</div>
</div>
</div>
<p>What do you think will happen when we call the function?</p>
<p><em>Write your prediction here about what you think will happen when the function is run here <strong>before</strong> you run the code cell to call it.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sayAndReturnHelloName</span><span class="p">(</span><span class="s1">&#39;Sam&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Run the above cell to call the function. Did you get the response you expected?</p>
</div>
<div class="section" id="discussion">
<h3>Discussion<a class="headerlink" href="#discussion" title="Permalink to this headline">¶</a></h3>
<p><em>Click on the arrow in the sidebar or run this cell to reveal my observations.</em></p>
<p>In the first case, a message was <em>printed</em> out in the cell’s print area. In the second case, the message was returned as the value returned by the function. As the function appeared on the last line of the code cell, its value was <em>displayed</em> as the cell output.</p>
</div>
</div>
<div class="section" id="setting-variables-to-values-returned-from-a-function">
<h2>1.3 Setting variables to values returned from a function<a class="headerlink" href="#setting-variables-to-values-returned-from-a-function" title="Permalink to this headline">¶</a></h2>
<p>As you might expect, we can set a variable to the value returned from a function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="n">sayAndReturnHelloName</span><span class="p">(</span><span class="s1">&#39;Sam&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<!-- #endregion -->
<p>If we view the value of that variable by running the following cell, what do you think you will see? Will the message be printed as well as displayed?</p>
<p><em>Write your prediction about what you think will happen when the function is run here <strong>before</strong> you run the code cell to call it.</em></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">message</span>
</pre></div>
</div>
</div>
</div>
<p>Only the value returned from the function is displayed. The function is not called again, and so there is no instruction to <em>print</em> the message.</p>
<p>To return multiple values, we still use a single <code class="docutils literal notranslate"><span class="pre">return</span></code> statement:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayAndReturnHelloName</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print a welcome message and return it.&quot;&quot;&quot;</span>
    <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Printing:&quot;</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>

<span class="n">sayAndReturnHelloName</span><span class="p">(</span><span class="s1">&#39;Sam&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Finally, we can have multiple return statements in a function, but only one of them can be called from a single invocation of the function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sayHelloName</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print a message to welcome someone optionally by name.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hi there!&quot;</span><span class="p">)</span>
    <span class="k">return</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sayHelloName</span><span class="p">(),</span> <span class="s1">&#39;and&#39;</span><span class="p">,</span> <span class="n">sayHelloName</span><span class="p">(</span><span class="s2">&quot;Sam&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Generally, it is <em>not</em> good practice to return different sorts of object from different parts of the same function. If you try to assign the values returned from the function to a particular variable, that variable could end up being defined in different ways depending on which part of the function returned the value to it.</p>
<p>There is quite a lot more to know about functions, particularly in respect of how variables inside the function relate to variables defined outside the function, a topic referred to as <em>variable scope</em>.</p>
<p>Variables defined within a Python are <em>scoped</em> according to where they are defined. Variables are <em>in scope</em> at a particular part of a program if they can be seen and referred to at that part of the program.</p>
<p>In Python, variables defined <em>outside</em> a function can typically be seen and referred to from within the function. Variables can also be passed into a function via the function’s arguments. But variables defined <em>inside</em> the function <em>cannot</em> be seen outside the function.</p>
<p>We will not consider issues of scope any further here, but it is a <em>very</em> powerful concept and one that any comprehensive introduction to programming should cover.</p>
</div>
<div class="section" id="using-functions-in-robot-control-programs">
<h2>1.4 Using functions in robot control programs<a class="headerlink" href="#using-functions-in-robot-control-programs" title="Permalink to this headline">¶</a></h2>
<p>Let’s now consider how we might use our functions in a robot control program.</p>
<p>We’ll start by considering the simple program we explored previously to make the robot trace out a square.</p>
<p>If you recall, our first version of this program explicitly coded each turn and edge movement, and then we used a loop to repeat the same action several times.</p>
<p>To get things set up correctly, load the simulator into the notebook in the usual way:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nbev3devsim.load_nbev3devwidget</span> <span class="kn">import</span> <span class="n">roboSim</span><span class="p">,</span> <span class="n">eds</span>

<span class="o">%</span><span class="n">load_ext</span> <span class="n">nbev3devsim</span>
<span class="o">%</span><span class="n">load_ext</span> <span class="n">nbtutor</span>
</pre></div>
</div>
</div>
</div>
<p>Tweak the constant value settings in the program below until the robot approximately traces out the shape of a square.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">sim_magic_preloaded</span> <span class="o">-</span><span class="n">x</span> <span class="mi">200</span> <span class="o">-</span><span class="n">y</span> <span class="mi">500</span> <span class="o">-</span><span class="n">a</span> <span class="mi">0</span> <span class="o">-</span><span class="n">p</span> <span class="o">-</span><span class="n">C</span> <span class="o">--</span><span class="n">pencolor</span> <span class="n">red</span>

<span class="n">SIDES</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c1"># Try to draw a square, ish...</span>
<span class="n">STEERING</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
<span class="n">TURN_ROTATIONS</span> <span class="o">=</span> <span class="mf">1.6</span>
<span class="n">TURN_SPEED</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">STRAIGHT_SPEED_PC</span> <span class="o">=</span> <span class="n">SpeedPercent</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
<span class="n">STRAIGHT_ROTATIONS</span> <span class="o">=</span> <span class="mi">4</span>

<span class="k">for</span> <span class="n">side</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">SIDES</span><span class="p">):</span>
    <span class="c1"># Go straight</span>
    <span class="c1"># Set the left and right motors in a forward direction</span>
    <span class="c1"># and run for the specified number of forward rotations</span>
    <span class="n">tank_drive</span><span class="o">.</span><span class="n">on_for_rotations</span><span class="p">(</span><span class="n">STRAIGHT_SPEED_PC</span><span class="p">,</span>
                                <span class="n">STRAIGHT_SPEED_PC</span><span class="p">,</span>
                                <span class="n">STRAIGHT_ROTATIONS</span><span class="p">)</span>

    <span class="c1"># Turn</span>
    <span class="c1"># Set the robot to turn on the spot</span>
    <span class="c1"># and run for a certain number of rotations *of the wheels*</span>
    <span class="n">tank_turn</span><span class="o">.</span><span class="n">on_for_rotations</span><span class="p">(</span><span class="n">STEERING</span><span class="p">,</span>
                               <span class="n">SpeedPercent</span><span class="p">(</span><span class="n">TURN_SPEED</span><span class="p">),</span>
                               <span class="n">TURN_ROTATIONS</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can extract this code into a function that allows us to draw a square whenever we want. By adding an optional <code class="docutils literal notranslate"><span class="pre">side_length</span></code> parameter we can change the side length as required.</p>
<p>Download the following program to the simulator and run it there.</p>
<p>Can you modify the program to draw a third square with a size somewhere between the size of the first two squares?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">sim_magic_preloaded</span> <span class="o">-</span><span class="n">p</span> <span class="o">--</span><span class="n">pencolor</span> <span class="n">green</span> <span class="o">-</span><span class="n">a</span> <span class="mi">0</span>

<span class="n">SIDES</span> <span class="o">=</span> <span class="mi">4</span>

<span class="c1"># Try to draw a square</span>
<span class="n">STEERING</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span>
<span class="n">TURN_ROTATIONS</span> <span class="o">=</span> <span class="mf">1.6</span>
<span class="n">TURN_SPEED</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">STRAIGHT_SPEED_PC</span> <span class="o">=</span> <span class="n">SpeedPercent</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
<span class="n">STRAIGHT_ROTATIONS</span> <span class="o">=</span> <span class="mi">6</span>

<span class="k">def</span> <span class="nf">draw_square</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">STRAIGHT_ROTATIONS</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Draw square of specified side length.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">side_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">SIDES</span><span class="p">):</span>
        <span class="c1"># Go straight</span>
        <span class="c1"># Set the left and right motors in a forward direction</span>
        <span class="c1"># and run for the number of rotations specified by: side</span>
        <span class="n">tank_drive</span><span class="o">.</span><span class="n">on_for_rotations</span><span class="p">(</span><span class="n">STRAIGHT_SPEED_PC</span><span class="p">,</span>
                                    <span class="n">STRAIGHT_SPEED_PC</span><span class="p">,</span>
                                    <span class="c1"># Use provided side length</span>
                                    <span class="n">side</span><span class="p">)</span>

        <span class="c1">#Turn</span>
        <span class="c1"># Set the robot to turn on the spot</span>
        <span class="c1"># and run for a certain number of rotations *of the wheels*</span>
        <span class="n">tank_turn</span><span class="o">.</span><span class="n">on_for_rotations</span><span class="p">(</span><span class="n">STEERING</span><span class="p">,</span>
                                   <span class="n">SpeedPercent</span><span class="p">(</span><span class="n">TURN_SPEED</span><span class="p">),</span>
                                   <span class="n">TURN_ROTATIONS</span><span class="p">)</span>
        
        
<span class="c1"># Call the function to draw a small size square</span>
<span class="n">draw_square</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="c1"># And an even smaller square</span>
<span class="n">draw_square</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="optional-activity">
<h2>1.4.1 Optional activity<a class="headerlink" href="#optional-activity" title="Permalink to this headline">¶</a></h2>
<p>Copy the code used to define the <code class="docutils literal notranslate"><span class="pre">draw_square()</span></code> function, and modify it so that it takes a second <code class="docutils literal notranslate"><span class="pre">turn</span></code> parameter that replaces the <code class="docutils literal notranslate"><span class="pre">TURN_ROTATIONS</span></code> value.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">turn</span></code> parameter to tune how far the robot turns at each corner.</p>
<p>Then see if you can use a <code class="docutils literal notranslate"><span class="pre">for...in</span> <span class="pre">range(N)</span></code> loop to call the square-drawing function several times.</p>
<p>Can you further modify the program so that the side length is increased each time the function is called by the loop?</p>
<p><em>Share your programs in your Cluster group forum.</em></p>
</div>
<div class="section" id="previewing-the-simulated-robot-state-from-a-notebook-code-cell">
<h2>1.5 Previewing the simulated robot state from a notebook code cell<a class="headerlink" href="#previewing-the-simulated-robot-state-from-a-notebook-code-cell" title="Permalink to this headline">¶</a></h2>
<p>As well as viewing the sensor state via the simulator user interface, we can also review it in the notebook itself.</p>
<p>We can create a reference to an object that uses some magic to grab a snapshot of the state of the robot in the default <code class="docutils literal notranslate"><span class="pre">roboSim</span></code> simulator.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">robotState</span> <span class="o">=</span> <span class="o">%</span><span class="n">sim_robot_state</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">%sim_robot_state</span></code> needs to be run in a cell, before we can check that captured state in <em>another</em> cell.</p>
<p>But once it has run, we can use the <code class="docutils literal notranslate"><span class="pre">robotState</span></code> variable to preview the snapshot of the state of the robot.</p>
<p>The state data itself is returned as a Python dictionary which we can reference into to view specific data values. For example, the <code class="docutils literal notranslate"><span class="pre">x</span></code>-coordinate:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">robotState</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Or how about the <code class="docutils literal notranslate"><span class="pre">penDown</span></code> state?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">robotState</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;penDown&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>For a full list of possible values, we can review all the <em>keys</em> associated with the <code class="docutils literal notranslate"><span class="pre">robotState.state</span></code> dictionary:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">robotState</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s use some magic to change the pen down state and then take another snapshot of the robot’s state:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">sim_magic</span> <span class="o">--</span><span class="n">pendown</span>
<span class="n">robotState</span> <span class="o">=</span> <span class="o">%</span><span class="n">sim_robot_state</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">robotState</span><span class="o">.</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;penDown&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="reporting-on-robot-state-in-the-notebook">
<h2>1.6 Reporting on robot state in the notebook<a class="headerlink" href="#reporting-on-robot-state-in-the-notebook" title="Permalink to this headline">¶</a></h2>
<p>Having grabbed a snapshot of the robot’s state into the notebook, we can create a function to write reports in the notebook’s own code environment describing the state of the robot.</p>
<p>For example, the <code class="docutils literal notranslate"><span class="pre">robotState.state</span></code> dictionary includes the following keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">left_light_raw</span> <span class="pre">/</span> <span class="pre">right_light_raw</span></code> for the raw RGB values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">left_light</span> <span class="pre">/</span> <span class="pre">right_light</span></code> for the <code class="docutils literal notranslate"><span class="pre">reflected_light_intensity</span></code> values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">left_light_pc</span> <span class="pre">/</span> <span class="pre">right_light_pc</span></code> for the <code class="docutils literal notranslate"><span class="pre">reflected_light_intensity_pc</span></code> values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">left_light_full</span> <span class="pre">/</span> <span class="pre">right_light_full</span></code> for the <code class="docutils literal notranslate"><span class="pre">full_reflected_light_intensity</span></code> values.</p></li>
</ul>
<p>We can create a simple function to display this values to make it easier for us to probe the state of the robot:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">report_robot_left_sensor</span><span class="p">(</span><span class="n">state</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print a report of the left light sensor values.&quot;&quot;&quot;</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">RGB: </span><span class="si">{</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;left_light_raw&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"></span>
<span class="s2">Reflected light intensity: </span><span class="si">{</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;left_light&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"></span>
<span class="s2">Reflected light intensity per cent: </span><span class="si">{</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;left_light_pc&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"></span>
<span class="s2">Full reflected light intensity (%): </span><span class="si">{</span><span class="n">state</span><span class="p">[</span><span class="s1">&#39;left_light_full&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"></span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s see how it works:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">report_robot_left_sensor</span><span class="p">(</span><span class="n">robotState</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>By defining our own robot state sensor value reporting function, we have created a tool that we can use to quickly preview the state of the robot (which exists in the simulator) in the notebook environment.</p>
<p>This demonstrates one of the ways in which we can use code: not just as a tool for writing <em>programs</em>, such as the code that defines the robot simulator, or as code for controlling our simulated robot <em>within</em> the simulator – nor even as an automation script for setting up the simulator using cell magics – but as a tool for building tools we can use in our computing environments.</p>
<p><em>To simplify access to a variant of this function, <code class="docutils literal notranslate"><span class="pre">report_light_sensor(state,</span> <span class="pre">side)</span></code> in future notebooks, we can import it from the pre-installed custom <code class="docutils literal notranslate"><span class="pre">nn_tools.sensor_data</span></code> package and make use of it as follows:</em></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nn_tools.sensor_data</span> <span class="kn">import</span> <span class="n">report_light_sensor</span>

<span class="n">report_light_sensor</span><span class="p">(</span><span class="n">robotState</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="summary">
<h2>1.7 Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>You have seen that a Python function is a <em>named</em> sequence of commands that can be ‘called’ or invoked from anywhere in the main program or from another function. Functions offer four advantages:</p>
<ul class="simple">
<li><p>they allow a piece of program functionality to be ‘encapsulated’ in a clear and detached way</p></li>
<li><p>they allow the functionality to be used many times from anywhere in the program</p></li>
<li><p>they simplify the program, making it easier to understand</p></li>
<li><p>they make programs less prone to error.</p></li>
</ul>
<p>Other programming languages have similar features to functions that offer additional benefits. Depending on the language, or the context in which they are defined, these may be known as <em>macros</em>, <em>methods</em>, <em>procedures</em> or <em>subroutines</em>.</p>
</div>
<div class="toctree-wrapper compound">
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./04. Not quite intelligent robots"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../03.%20Controlling%20program%20execution%20flow/03.6%20Optional%20RoboLab%20challenges.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">6 Optional challenges</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="04.2%20Robot%20navigation%20using%20dead%20reckoning.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">2 Dead reckoning</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By The Jupyter Book community<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>